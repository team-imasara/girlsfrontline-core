'use strict';Object.defineProperty(exports,'__esModule',{value:!0});var _slicedToArray2=require('babel-runtime/helpers/slicedToArray'),_slicedToArray3=_interopRequireDefault(_slicedToArray2),_entries=require('babel-runtime/core-js/object/entries'),_entries2=_interopRequireDefault(_entries),_extends2=require('babel-runtime/helpers/extends'),_extends3=_interopRequireDefault(_extends2);exports.default=getFairy;var _fairyGrow=require('../../data/fairyGrow.json'),_fairyGrow2=_interopRequireDefault(_fairyGrow),_skill=require('./base/skill');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getFairy(fairy){var skillData=fairy.skill,skill=(0,_skill.getSkillData)(skillData);return(0,_extends3.default)({},fairy,{skill:skill,getStats:function getStats(){var options=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},_options$level=options.level,level=void 0===_options$level?100:_options$level,_options$quality=options.quality,quality=void 0===_options$quality?5:_options$quality,baseStats=fairy.stats,grow=fairy.grow,stats={};return(0,_entries2.default)(baseStats).forEach(function(_ref){var _Mathceil=Math.ceil,_ref2=(0,_slicedToArray3.default)(_ref,2),key=_ref2[0],baseStat=_ref2[1],_fairyGrow$key=(0,_slicedToArray3.default)(_fairyGrow2.default[key],2),statRatio=_fairyGrow$key[0],levelRatio=_fairyGrow$key[1],proportion=_fairyGrow2.default.proportion;stats[key]=+(_Mathceil(statRatio*(baseStat/100)+_Mathceil((level-1)*levelRatio*(baseStat/100)*(grow/100)))*proportion[quality-1])}),stats},getSkill:function getSkill(options){return(0,_skill.getSkill)(skill,options)}})}